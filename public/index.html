<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" href="/res/aton-logo.png" sizes="512x512" type="image/png">

<!-- Add iOS meta tags and icons -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="ATON FrontEnd">
<link rel="apple-touch-icon" href="/res/aton-logo.png">
<meta name="description" content="ATON FrontEnd">
<!-- Add meta theme-color -->
<meta name="theme-color" content="#000000" />

<title>ATON Framework</title>
<link rel="stylesheet" type="text/css" href="/res/css/aton.css">
<script type="text/javascript" src="/vendors/vendors.min.js"></script>

<script>

let scenes = [];

let getScenes = ()=>{
    $.getJSON( "/api/scenes/", ( data )=>{
        scenes = data;

        let slist = "<option value=''>Choose scene ID...</option>";

        for (let s in scenes){
            let sid = scenes[s];
            slist += "<option value='"+sid+"'>"+sid+"</option>"
        }

        $("#sid").html(slist);
    });
};

window.addEventListener( 'load', ()=>{
    getScenes();
    
    $("#sid").on("change", ()=>{
        let sid = $("#sid").val();
        if (sid.length>1){
            let feURL = window.location.href + "fe/?s="+sid;
            //if ($('#idVRC').prop("checked")) feURL += "&vrc=1";

            window.location.href = feURL;
        }
    });

});

</script>
</head>

<body style="background-color: #666;">
    <div style="text-align: center;">
        <img src="/res/aton-logo.png" style="width:200px; height: auto;"><br>

        <h2>Published Scenes</h2>
        <div class='select' style='width:50%;'>
            <select id='sid'></select><div class='selectArrow'></div>
        </div>

        <!-- <input id="idVRC" type="checkbox"><label for="idVRC">VRoadcast</label> -->
    </div>
    
    </body>