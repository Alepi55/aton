{
    "openapi": "3.0.0",

    "supportedSubmitMethods": [],

    "info": {
        "version": "1.0.0",
        "title": "ATON REST API v2",
        "description": "This is the new REST API (v2) for ATON",

        "contact": {
            "name": "Bruno Fanini (CNR ISPC)"
        },
    
        "license": {
            "name": "GPL v3"
        }
    },

    "paths": {

        "/api/v2/scenes/":{
            "get":{
                "tags":["Scenes"],
                "summary": "List public scenes",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns list",
                        "content":{
                        }
                    }
                }
            },

            "post":{
                "tags":["Scenes"],
                "summary": "Create a new scene",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns scene-ID",
                        "content":{
                        }
                    },
                    "401":{
                        "description": "Unauthorized. User not authenticated or scene belongs to another user",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/scenes/{user}":{
            "get":{
                "tags":["Scenes"],
                "summary": "List user scenes",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns list",
                        "content":{
                            "application/json":{
                                "schema":{
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401":{
                        "description": "Unauthorized. User not authenticated or scene belongs to another user",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/scenes/{user}/{usid}":{
            "get":{
                "tags":["Scenes"],
                "summary": "Get JSON scene descriptor",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "usid",
                        "in": "path",
                        "description": "User scene-ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns JSON descriptor",
                        "content":{
                        }
                    }
                }
            },

            "delete":{
                "tags":["Scenes"],
                "summary": "Delete a scene",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "usid",
                        "in": "path",
                        "description": "User scene-ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns JSON descriptor",
                        "content":{
                        }
                    },
                    "401":{
                        "description": "Unauthorized. User not authenticated or scene belongs to another user",
                        "content":{
                        }
                    }
                }
            },

            "patch":{
                "tags":["Scenes"],
                "summary": "Patch JSON scene descriptor",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "usid",
                        "in": "path",
                        "description": "User scene-ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns modified JSON descriptor",
                        "content":{
                        }
                    },
                    "401":{
                        "description": "Unauthorized. User not authenticated or scene belongs to another user",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/items/{user}/models":{
            "get":{
                "tags":["Items"],
                "summary": "List user 3D models",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns list",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/items/{user}/panoramas":{
            "get":{
                "tags":["Items"],
                "summary": "List user panoramas",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns list",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/items/{user}/media":{
            "get":{
                "tags":["Items"],
                "summary": "List user media",
                "description": "....",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "The user ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],

                "responses":{
                    "200":{
                        "description": "Successful operation, returns list",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/users/":{
            "get":{
                "tags":["Users"],
                "summary": "List users",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns list",
                        "content":{
                        }
                    }
                }
            },

            "post":{
                "tags":["Users"],
                "summary": "Create a new user",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns true",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/users/{user}":{
            "get":{
                "tags":["Users"],
                "summary": "Get user data",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns user info object",
                        "content":{
                        }
                    }
                }
            },

            "put":{
                "tags":["Users"],
                "summary": "Update user data",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns true",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/flares/":{
            "get":{
                "tags":["Flares"],
                "summary": "Get list of flares installed on this instance",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns flares list",
                        "content":{
                        }
                    }
                }
            }
        },

        "/api/v2/flares/{fid}":{
            "get":{
                "tags":["Flares"],
                "summary": "Get flare details",
                "description": "....",

                "responses":{
                    "200":{
                        "description": "Successful operation, returns flare information",
                        "content":{
                        }
                    }
                }
            }
        }
    },

    "components":{
    }
}